# Railway MQTT Broker Configuration
# Simplified for Railway internal networking (no TLS needed internally)

# MQTT listener (non-TLS for internal Railway networking)
listener 1883
protocol mqtt
allow_anonymous false

# Authentication
password_file /mosquitto/config/passwd
acl_file /mosquitto/config/acl

# Persistence
persistence true
persistence_location /mosquitto/data/

# Logging
log_dest stdout
log_type all
log_timestamp true

# Connection settings
max_connections 1000
max_inflight_messages 20
max_queued_messages 10000

# Message size limit (1MB)
max_packet_size 1048576

# Retained messages
retained_persistence true

# Queue QoS 0 messages
queue_qos0_messages false

